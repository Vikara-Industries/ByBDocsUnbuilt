"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[175],{4604:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>h,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>l});var n=o(4848),i=o(8453);const a={sidebar_position:1},s="JavaScript",r={id:"experiments/experiments/Human/DIYHand/Programming/JS/index",title:"JavaScript",description:"You have the Javascript menu open, and it might seem confusing at first, but don\u2019t worry. You\u2019re going to want to delete everything that's already there and start fresh,",source:"@site/docs/experiments/experiments/Human/DIYHand/Programming/JS/index.md",sourceDirName:"experiments/experiments/Human/DIYHand/Programming/JS",slug:"/experiments/experiments/Human/DIYHand/Programming/JS/",permalink:"/experiments/experiments/Human/DIYHand/Programming/JS/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"experimentsSidebar",previous:{title:"Micro:bit introduction",permalink:"/experiments/experiments/Human/DIYHand/Programming/"},next:{title:"Python",permalink:"/experiments/experiments/Human/DIYHand/Programming/Python/"}},h={},l=[];function u(e){const t={h1:"h1",p:"p",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"javascript",children:"JavaScript"}),"\n",(0,n.jsx)(t.p,{children:"You have the Javascript menu open, and it might seem confusing at first, but don\u2019t worry. You\u2019re going to want to delete everything that's already there and start fresh,"}),"\n",(0,n.jsx)(t.p,{children:"First things first, you\u2019re going to want to define a few things called \u201cvariables\u201d. Basically, \u201cvariables\u201d are just things the code will be keeping track of, updating and using to run \u201cfunctions\u201d. If you have taken algebra courses, you might recognize the word. Functions use variables to output whatever you want really. For example, we want to move the pencil tied to your hand to make the hand close, right? Well, we need some variables to work with first."}),"\n",(0,n.jsx)(t.p,{children:"First, define a variable we can use to set the angle of the servo for the pencil. You define variables in any coding language by saying what type of variable it is before you write it. In Javascript, you\u2019re going to write \u201clet\u201d in front of any variable that has to do with numbers. For the sake of this, we\u2019re  going to call the variable \u201cangleAdded\u201d."}),"\n",(0,n.jsx)(t.p,{children:"After you name it and define it, you need to make the variable equal to something. For this, we\u2019re going to set it to 0 so we can add or subtract from it later, and not have to worry about anything."}),"\n",(0,n.jsx)(t.p,{children:"Remember, variables can be whatever you want them to be, but if there's more than one word, they have to be all together in one place. And, the first word has to be uncapitalized, while every word after is Capitalized."}),"\n",(0,n.jsxs)(t.p,{children:["Then, define a variable called \u201ccurrentSignal\u201d. This will be used to take incoming signals from your electrodes about how your muscles are moving. If you want to make currentSignal equal to incoming signals, you need to make it equal to P0. P0 is the pin on your micro",":bit"," that takes in incoming data and can show it to you."]}),"\n",(0,n.jsx)(t.p,{children:"To do this though, you need to define which pin you\u2019re trying to use, just like how you define variables. You\u2019re telling the code where it needs to look for the information you need. To get P0\u2019s data, you need to set currentSignal to 0 first, so it can be edited. Then, later, you can write some other code that can change this variable."}),"\n",(0,n.jsx)(t.p,{children:"Now, you\u2019re going to need to make another variable, this time, it will be called \u201cpreviousSignal\u201d. You can use this to record what currentSignal\u2013the incoming EMG signals\u2013just were, so you can know if it's decreasing. If it's decreasing, that means that you\u2019re not flexing the muscle as much anymore, so the hand can let go."}),"\n",(0,n.jsx)(t.p,{children:"Now, you\u2019re going to have to define two more variables. These are going to be in all-caps. That's because they\u2019re terms in a kind of library that the code has. You still have to put \u201clet\u201d in front of them though, because you need to define their type. To make sure the servo doesn\u2019t turn so much it breaks the string on the pencil, or breaks itself, you need to set a maximum and minimum angle. In other words, a range. It would look something like this."}),"\n",(0,n.jsx)(t.p,{children:"But, you need to say what you want those minimums or maximums will be, because otherwise the code doesn\u2019t know what to do. In my experience, it's a good idea to set the Max to 100 and the Min to 0."}),"\n",(0,n.jsxs)(t.p,{children:["Once you have those variables, you need to set a threshold for the incoming signals. That way, if the EMG signal you\u2019re sending your micro",":bit"," is big enough, it can know whether or not to start moving the servo."]}),"\n",(0,n.jsx)(t.p,{children:"This variable can be set to whatever you want, but for the sake of this tutorial, it will be set to 150. Just know that the lower the value, the less you have to flex to make the servo move. The higher the value, the more you have to flex."}),"\n",(0,n.jsx)(t.p,{children:"Now, you have to start making a few functions. Like I mentioned earlier, functions are just little bits of code that use variables to do something very specific. Here, we\u2019re going to make a function that can tell us what the previousSignal is. So let's start by naming it first."}),"\n",(0,n.jsxs)(t.p,{children:["Make sure that every time you make a new function, you have two parentheses after the name of the function, like this \u201c()\u201d. And, that you have a set of brackets you put all your code inside, like this \u201c","\u201d."]}),"\n",(0,n.jsx)(t.p,{children:"You have the function set up, now you need to code how to find what currentSignal was, but a little bit before now. To do that, you make previousSignal equal to currentSignal, like this."}),"\n",(0,n.jsx)(t.p,{children:"Then, you need to make sure there's a delay. You use a \u201cmethod\u201d called \u201cbasic.pause.\u201d Methods do specific tasks, and you can combine them with variables or other types of code in functions. Basic.pause needs you to set an amount of milliseconds that it needs to pause things. So, because 1000 milliseconds make a second, if you want the delay to be a second, you would set the amount to 1000 or higher. If you want it to be less, decrease it. You would write your numbers in parentheses, like this."}),"\n",(0,n.jsx)(t.p,{children:"Now you need to make another function, this time to store a lot of bigger code. This would be a \u201cbasic.forever\u201d function. With this line of code, the function will update a lot, so it acts like a loop, but you can still give the line of code instructions to do things like turn on a light if something else happens. You would write a basic.forever function of code like this."}),"\n",(0,n.jsxs)(t.p,{children:["One thing you will need to know is what signals are coming in from the EMG. This will help you a lot if any issues pop up later on. So, you\u2019ll be using another method called a \u201cserial write line\u201d. Serial write methods will take information and record it wherever the board or chip you\u2019re using has space for it. In this case, you can find the information by scrolling down on the side with the micro",":bit"," visible."]}),"\n",(0,n.jsx)(t.p,{children:"Click on \u201cShow data\u201d and you\u2019ll see this screen."}),"\n",(0,n.jsx)(t.p,{children:"To change that, you have to write in your basic.forever function a line of code like this. \u201cserial.writevalue\u201d, with two other values in parentheses. In this case, write \u201cx\u201d, and then \u201ccurrentSignal\u201d in the parentheses, like this."}),"\n",(0,n.jsx)(t.p,{children:"But, because you didn\u2019t connect currentSignal to anything, you need to make it equal to something other than 0 ( see step 2 ). For that, you want to set it equal to \u201cpins.analogReadPin\u201d, then put \u201cAnalogPin.P0\u201d in parentheses right next to it, like you can see here."}),"\n",(0,n.jsx)(t.p,{children:"Now you can track incoming EMG signals in the \u201cShow Data\u201d tab!"}),"\n",(0,n.jsx)(t.p,{children:"Once that's done, now you\u2019re going to use an \u201cif/else\u201d statement. These kinds of statements can be used to check if something is true and do something if that condition has been met. It\u2019s a lot like a coding flowchart that only keeps going if certain conditions are met. The \u201celse\u201d part is if any of those conditions are met. You would write the outline of one like this."}),"\n",(0,n.jsxs)(t.p,{children:["You probably note the parentheses and these guys \u201c","\u201d. In the parentheses, we\u2019re going to put a comparison statement. Then, use the servo pin to finally start moving the servo."]}),"\n",(0,n.jsx)(t.p,{children:"First, you need to write a comparison using \u201coperators\u201d. These are like +, -, =, etc. in math. They help you utilize variables within methods, loops and functions. Here, you\u2019re going to compare your currentSignal to the threshold you set."}),"\n",(0,n.jsx)(t.p,{children:"You want the currentSignal to reach the threshold or be greater than the threshold to make the servo start moving. So, you use \u201c>\u201d and \u201c=\u201d."}),"\n",(0,n.jsx)(t.p,{children:"Next, you have to write a line of code to make the servo start moving. For that, you need to use Pin 8. It's similar to how you wrote the \u201cpins.analogReadPin\u201d, except you change what's after the period to \u201cservoWritePin\u201d. And, you\u2019re going to put \u201cP8\u201d after the AnalogPin section."}),"\n",(0,n.jsx)(t.p,{children:"But, your code needs to know how much you want the servo to turn, or it won\u2019t work. This is where the angleAdded variable you made comes in handy. You\u2019re going to write a small line of code so that when the threshold is met by your currentSignal, angleAdded will be added to. You can choose however much you want, but for mine, I\u2019m going to put in 15. This way, when the basic.forever function updates, it will make the servo move 15 degrees every few milliseconds if the person wearing the electrodes flexes hard enough."}),"\n",(0,n.jsx)(t.p,{children:"And remember, to make the servo move the amount you want it to, you need to set the second value in your parentheses to your \u201cangleAdded\u201d variable."}),"\n",(0,n.jsx)(t.p,{children:"Now, you need to make it so that when the person stops flexing, your rubber hand stops flexing into a fist. For that, you\u2019re going to add a similar line of code to the \u201celse\u201d section. This line of code also has \u201cangleAdded\u201d in your parentheses, BUT, you\u2019ll be subtracting from angleAdded instead of adding. You can decide for your own code how much it goes down or up, like before."}),"\n",(0,n.jsx)(t.p,{children:"This is an optional step, but it can show you how useful an if else statement can be. If you want the hand to decrease if the currentSignal is the same as the previousSignal, then you would write another comparison. But, instead of it saying \u201celse\u201d, it would say \u201celse if\u201d, like this."}),"\n",(0,n.jsx)(t.p,{children:"For the comparison, you would make a comparison between currentSignal and previousSignal. In the comparison, using this symbol, /< , you would be saying that if your currentSignal is less than your previousSignal, something will happen."}),"\n",(0,n.jsx)(t.p,{children:"Here, you would do the same thing as before, the only thing that would change would be how your \u201celse\u201d section works. In the end, it should look something like this."}),"\n",(0,n.jsx)(t.p,{children:"What this would do is cause your hand to start slowly uncurling if you relax your muscle, even if it met the threshold. And, if you start increasing your currentSignal by flexing again, your hand will ball up into a fist again."}),"\n",(0,n.jsx)(t.p,{children:"Also, using your MAX and MIN angles, you\u2019ll want to limit how far your pencil can move. You don\u2019t want the strings on your hand or the servo to break. So, you need a special kind of trick in coding called a \u201cclamp\u201d. It's a lot like setting a start and a finish line on a race track. You don\u2019t want your cars to go past the finish line, so you keep them behind it. Like if a number is over 100 ( your finish line ), the clamp would put it behind that point. And if your number is too far below 0 ( your start line ), it would set it at or slightly above your startline."}),"\n",(0,n.jsx)(t.p,{children:"To make the clamp, you need to use something called \u201cmath methods\u201d. They\u2019re a lot like the comparisons you used to make your servo move. And you would code it so that the Math.max would be the MIN_ANGLE, and the Math.min would be MAX_ANGLE. This might seem a bit backwards, but the Math.min and Math.max set \u201clines\u201d, or boundaries for a number to stay within. So, if written like this:"}),"\n",(0,n.jsx)(t.p,{children:"You can think of it a lot like a ladder. There's a top step and a bottom step. And angleAdded is whatever step you\u2019re currently on. The \u201cMath.max(MIN_ANGLE, Math.min(angleAdded, MAX_ANGLE)\u201d line of code checks if you\u2019re 1.) Above the top step with the section about MAX_ANGLE, then sets you below it and 2.) Below the bottom step with the section about MIN_ANGLE and sets you there if you\u2019re below it."}),"\n",(0,n.jsx)(t.p,{children:"It might seem a bit odd, but try it for yourself and you\u2019ll see the results!"}),"\n",(0,n.jsx)(t.p,{children:"Here are a few open-ended questions you can use to fuel your creativity!"}),"\n",(0,n.jsxs)(t.p,{children:["Can you make the fist only go from fully clenching and unclenching, without only going up by little bits? ( Hint: like going directly from the MAX_ANGLE to the MIN_ANGLE )\r\nCan you make the micro",":bit"," do other things based on the EMG Signals? ( Hint: Check out the Music, Basic tabs in blocks for inspiration )\r\nCan you code the hand to open and close based on things other than EMG Signals? ( Hint: Inputs methods is a good place to start )\r\nCan you re-code the entire program from scratch using different names, but the same ideas?"]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},8453:(e,t,o)=>{o.d(t,{R:()=>s,x:()=>r});var n=o(6540);const i={},a=n.createContext(i);function s(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);